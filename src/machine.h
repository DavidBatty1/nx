//----------------------------------------------------------------------------------------------------------------------
// Common data structure for all machines
//----------------------------------------------------------------------------------------------------------------------

#pragma once

#include "memory.h"

typedef struct  
{
    Memory      memory;
}
Machine;

// Create a ZX Spectrum 48K machine
bool machineOpen(Machine* M);

// Destroy a machine
void machineClose(Machine* M);

//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------

#ifdef NX_IMPL

bool machineOpen(Machine* M)
{
    if (!memoryOpen(&M->memory)) return NO;

    return YES;
}

void machineClose(Machine* M)
{
    memoryClose(&M->memory);
}

//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------

#endif // NX_IMPL
